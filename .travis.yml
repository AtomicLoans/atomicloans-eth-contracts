dist: trusty
sudo: required
language: node_js
node_js:
  - "8.12.0"
cache: npm
before_script:
  - sudo apt-get install -y libusb-1.0-0 libusb-1.0-0-dev libudev-dev
  - npm install -g truffle ganache-cli
script:
  - CI=false ganache-cli &
  - CI=false truffle test
after_script:
  - npm run coverage && cat coverage/lcov.info | coveralls